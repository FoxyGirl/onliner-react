!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=a("./modules/EventDispatcher.js"),e=a("./modules/CompareButton.js");!function(){var a=window.dispatcher||new d,b=new e(a);ko.applyBindings(b,document.getElementById("compare-button-container")),window.dispatcher=a}()},{"./modules/CompareButton.js":2,"./modules/EventDispatcher.js":4}],2:[function(a,b,c){function d(a){this.dispatcher=a,this.compareModel=new f(a),this.link=ko.observable(),this.count=ko.observable(0),this.text=ko.computed(function(){var a=this.count();return a+"&nbsp;"+e.pluralForm(a,["товар","товара","товаров"])},this),this.states={visible:ko.observable(!1),hidden:ko.observable(!1),animated:ko.observable(!1),moved:ko.observable(!1),poof:ko.observable(!1)},this.timers={visible:null,animated:null,moved:null},this.updateTimer=null,this.updateLink(),this.updateCount(),this.count()&&this.states.visible(!0),this.subscribe(),this.restartUpdateTimer()}var e=a("./format.js"),f=a("./CompareModel.js");d.prototype.subscribe=function(){var a=this,b=this.dispatcher;b.subscribe("compare:add",function(b){a.restartUpdateTimer(),a.updateLink(),a.updateCount(),b.length&&a.updateStates()}),b.subscribe("compare:remove",function(b){a.restartUpdateTimer(),a.updateLink(),a.updateCount(),b.length&&a.updateStates()}),b.subscribe("compare:clear",function(b){a.restartUpdateTimer(),a.updateLink(),a.updateCount(),a.doPoof()})},d.prototype.restartUpdateTimer=function(){var a=this;clearTimeout(this.updateTimer),this.updateTimer=setTimeout(function(){a.updateLink(),a.updateCount(),a.states.visible(!!a.count()),a.restartUpdateTimer()},2e4)},d.prototype.updateLink=function(){var a=this.compareModel.getPageAddress();this.link(a)},d.prototype.updateCount=function(){var a=this.compareModel.getCount();this.count(a)},d.prototype.updateStates=_.debounce(function(){var a=this.states;a.visible()?this.doAnimate():this.doVisible()},100),d.prototype.doVisible=function(){var a=this,b=this.states,c=this.timers;clearTimeout(c.visible),b.visible(!0),c.visible=setTimeout(function(){a.doAnimate()},300)},d.prototype.doAnimate=function(){var a=this.states,b=this.timers,c=this.count();clearTimeout(b.animated),clearTimeout(b.visible),a.animated(!0),a.moved(!1),b.animated=setTimeout(function(){a.animated(!1),c||(b.visible=setTimeout(function(){a.visible(!1)},100))},500)},d.prototype.doMoved=function(){var a=this.states,b=this.timers;a.moved(!0),"ontouchstart"in window&&(b.moved=setTimeout(function(){a.moved(!1)},1500))},d.prototype.doPoof=function(){var a=this.states;a.hidden(!0),a.visible(!1),a.poof(!0),setTimeout(function(){a.hidden(!1),a.moved(!1),a.poof(!1)},450)},d.prototype.toggleVisible=function(a){var b=a&&this.count();this.states.visible(b)},d.prototype.onMouseout=function(){var a=this.states,b=this.timers;return!a.moved()||(b.moved=setTimeout(function(){a.moved(!1)},1500),!0)},d.prototype.onMouseover=function(){var a=this.states,b=this.timers;return!a.moved()||(clearTimeout(b.moved),!0)},d.prototype.clear=function(){this.compareModel.clear()},b.exports=d},{"./CompareModel.js":3,"./format.js":5}],3:[function(a,b,c){function d(a){return window.parent.compareModel?window.parent.compareModel:window.compareModel?window.compareModel:(window.compareModel=this,this.cookieName="compare",void(this.dispatcher=a))}var e=a("cookies-js"),f=a("./url.js");d.prototype.getCount=function(){var a=this.getItems();return a.length},d.prototype.getPageAddress=function(){var a=this.getItems();return f.secureProjectUrl("catalog","/compare/"+encodeURI(a.join("+")))},d.prototype.add=function(a){var b=this.getItems(),c=[].concat(a);c=_.difference(c,b),this.setItems(b.concat(c)),this.dispatcher.trigger("compare:add",c)},d.prototype.remove=function(a){var b=this.getItems(),c=[].concat(a);c=_.intersection(c,b),this.setItems(_.difference(b,c)),this.dispatcher.trigger("compare:remove",c)},d.prototype.clear=function(){var a=this.getItems();this.setItems([]),this.dispatcher.trigger("compare:clear",a)},d.prototype.getItems=function(){var a=this.cookieName,b=[];try{b=JSON.parse(e.get(a)||"")}catch(a){}return _.isArray(b)?b:[]},d.prototype.setItems=function(a){var b=this.cookieName;e.set(b,JSON.stringify(a||[]),{expires:31536e3,domain:location.hostname.split(".").slice(-2).join("."),path:"/"})},b.exports=d},{"./url.js":6,"cookies-js":7}],4:[function(a,b,c){!function(a,c){"object"==typeof b&&"object"==typeof b.exports?b.exports=c:a.EventDispatcher=c}(this,function(){function a(){this.subscriptions={}}return a.prototype.subscribe=function(a,b){[].concat(a).forEach(function(a){var c=this.subscriptions[a];"undefined"==typeof c&&(c=this.subscriptions[a]=[]),"function"==typeof b&&c.push(b)}.bind(this))},a.prototype.trigger=function(a){var b=Array.prototype.splice.call(arguments,1);[].concat(a).forEach(function(a){var c=this.subscriptions[a];if("undefined"!=typeof c)for(var d in c)c[d].apply(null,b)}.bind(this))},a.prototype.unsubscribe=function(a){[].concat(a).forEach(function(a){"undefined"!=typeof this.subscriptions[a]&&delete this.subscriptions[a]}.bind(this))},a}())},{}],5:[function(a,b,c){function d(a,b){var c=parseFloat(a),d=c>=1e4;return"BYN"===b?d?f(a).format("0,0.00").replace(/\,/g,"&nbsp;").replace(/\./g,","):f(a).format("0.00").replace(/\./g,","):d?f(a).format("0,0").replace(/\,/g,"&nbsp;"):f(a).format("0")}var e=a("escape-html"),f=a("numeral"),g={};g.price=function(a){var b;return b=a.min===a.max?d(a.min):d(a.min)+"&nbsp;&ndash; "+d(a.max),b+"&nbsp;"+a.currency_sign},g.minPrice=function(a,b){var b=b||"BYN",c=a.price_min.converted[b];return c=c?c.amount:a.min,d(c,b)+"&nbsp;р."},g.priceObject=function(a){a=a||{};var b=a.amount,c=a.currency;return d(b,c)},g.match=function(a,b){return a=e(a),b=e(b),!a&&b?b:a&&!b?"":b.replace(a,'<span class="text_match">$&</span>')},g.pluralForm=function(a,b){var c=2,b=b||[];return a%10===1&&a%100!=11?c=0:a%10>=2&&a%10<=4&&(a%100<10||a%100>=20)&&(c=1),c>b.length?b[0]||null:b[c]},g.numberKFormatter=function(a){return a>99999?(a/1e3).toFixed(0)+" K":g.numberWithSpaces(a)},g.numberWithSpaces=function(a){return(a||"").toString().replace(/\s+/g,"").replace(/\B(?=(\d{3})+(?!\d))/g," ")},g.htmlToText=function(a){var b=document.createElement("div");return b.innerHTML=a,b.innerText||b.textContent},g.parseDotObject=function(a){var b={};return _.each(a,function(c,d){for(var e,f=b,g=(d||"").toString().split("."),h=g.pop();g.length;)e=g.shift(),f=f[e]=f[e]||{};f[h]=a[d]}),b},g.getDotProperty=function(a,b){for(var c,d,e=(b||"").toString().split("."),f=a;e.length;)d=e.shift(),c=_.isObject(f)&&f.hasOwnProperty(d)?f=f[d]:void 0;return c},g.formatPhone=function(a){return a.replace(/(\d{3})(\d{2})(\d{3})(\d{2})(\d{2})/,"$1 $2 $3-$4-$5")},g.formatPhoneToHtml=function(a){return a.replace(/(\d{3})(\d{2})(\d{3})(\d{2})(\d{2})/,"$1 <strong>$2</strong> $3-$4-$5")},b.exports=g},{"escape-html":8,numeral:9}],6:[function(a,b,c){!function(a,c){"object"==typeof b&&"object"==typeof b.exports?b.exports=c:a.URL=c}(this,function(){function a(a,b){a=_.compact(a);var c=window.location,d=(a.length?"?":"")+a.join("&"),e=c.origin+c.pathname+d+c.hash;b?window.history.replaceState({},"",e):window.history.pushState({},"",e)}var b={};return b.baseDomain=function(){return document.location.host.split(".").slice(-2).join(".")}(),b.projectDomain=function(a){return a+"."+b.baseDomain},b.projectUrl=function(a,c,d){return c=c?c.replace(/^\/*/,"/"):"",d=d||"http://",d+b.projectDomain(a)+c},b.secureProjectUrl=function(a,c){return b.projectUrl(a,c,"https://")},b.composeSecondOfferPrivateMessageUrl=function(a){return b.secureProjectUrl("chats","/compose/"+a.user.id+"/second/"+a.id)},b.redirect=function(a){document.location.href=a},b.removeHash=function(){history.replaceState("",document.title,window.location.pathname+window.location.search)},b.queryParamsToJson=function(){var a=window.location.search.replace("?",""),b={};try{b=JSON.parse('{"'+decodeURI(a).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}catch(a){}return b},b.setParameterToQueryString=function(b,c,d){var e=(window.location.search||"").replace(/(^\?)/,""),f=b+"="+c,g=_.compact(e.split("&")),h=_.map(g,function(a){var c=a.split("=")[0];return c===b?f:a}),i=_.find(h,function(a){var c=a.split("=")[0];return c===b});i||h.push(f),a(h,d)},b.removeParameterFromQueryString=function(b,c){var d=(window.location.search||"").replace(/(^\?)/,""),e=_.compact(d.split("&")),f=_.filter(e,function(a){var c=a.split("=")[0];return c!==b});a(f,c)},b}())},{}],7:[function(a,b,c){!function(a,d){"use strict";var e=function(a){if("object"!=typeof a.document)throw new Error("Cookies.js requires a `window` with a `document` object");var b=function(a,c,d){return 1===arguments.length?b.get(a):b.set(a,c,d)};return b._document=a.document,b._cacheKeyPrefix="cookey.",b._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),b.defaults={path:"/",secure:!1},b.get=function(a){b._cachedDocumentCookie!==b._document.cookie&&b._renewCache();var c=b._cache[b._cacheKeyPrefix+a];return c===d?d:decodeURIComponent(c)},b.set=function(a,c,e){return e=b._getExtendedOptions(e),e.expires=b._getExpiresDate(c===d?-1:e.expires),b._document.cookie=b._generateCookieString(a,c,e),b},b.expire=function(a,c){return b.set(a,d,c)},b._getExtendedOptions=function(a){return{path:a&&a.path||b.defaults.path,domain:a&&a.domain||b.defaults.domain,expires:a&&a.expires||b.defaults.expires,secure:a&&a.secure!==d?a.secure:b.defaults.secure}},b._isValidDate=function(a){return"[object Date]"===Object.prototype.toString.call(a)&&!isNaN(a.getTime())},b._getExpiresDate=function(a,c){if(c=c||new Date,"number"==typeof a?a=a===1/0?b._maxExpireDate:new Date(c.getTime()+1e3*a):"string"==typeof a&&(a=new Date(a)),a&&!b._isValidDate(a))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return a},b._generateCookieString=function(a,b,c){a=a.replace(/[^#$&+\^`|]/g,encodeURIComponent),a=a.replace(/\(/g,"%28").replace(/\)/g,"%29"),b=(b+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),c=c||{};var d=a+"="+b;return d+=c.path?";path="+c.path:"",d+=c.domain?";domain="+c.domain:"",d+=c.expires?";expires="+c.expires.toUTCString():"",d+=c.secure?";secure":""},b._getCacheFromString=function(a){for(var c={},e=a?a.split("; "):[],f=0;f<e.length;f++){var g=b._getKeyValuePairFromCookieString(e[f]);c[b._cacheKeyPrefix+g.key]===d&&(c[b._cacheKeyPrefix+g.key]=g.value)}return c},b._getKeyValuePairFromCookieString=function(a){var b=a.indexOf("=");b=b<0?a.length:b;var c,d=a.substr(0,b);try{c=decodeURIComponent(d)}catch(a){console&&"function"==typeof console.error&&console.error('Could not decode cookie with key "'+d+'"',a)}return{key:c,value:a.substr(b+1)}},b._renewCache=function(){b._cache=b._getCacheFromString(b._document.cookie),b._cachedDocumentCookie=b._document.cookie},b._areEnabled=function(){var a="cookies.js",c="1"===b.set(a,1).get(a);return b.expire(a),c},b.enabled=b._areEnabled(),b},f=a&&"object"==typeof a.document?e(a):e;"function"==typeof define&&define.amd?define(function(){return f}):"object"==typeof c?("object"==typeof b&&"object"==typeof b.exports&&(c=b.exports=f),c.Cookies=f):a.Cookies=f}("undefined"==typeof window?this:window)},{}],8:[function(a,b,c){"use strict";function d(a){var b=""+a,c=e.exec(b);if(!c)return b;var d,f="",g=0,h=0;for(g=c.index;g<b.length;g++){switch(b.charCodeAt(g)){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&#39;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;default:continue}h!==g&&(f+=b.substring(h,g)),h=g+1,f+=d}return h!==g?f+b.substring(h,g):f}var e=/["'&<>]/;b.exports=d},{}],9:[function(a,b,c){(function(){function a(a){this._value=a}function c(a,b,c,d){var e,f,g,h,i=a.toString().split("."),j=b-(d||0);return e=2===i.length?Math.min(Math.max(i[1].length,j),b):j,g=Math.pow(10,e),h=(c(a*g)/g).toFixed(e),d>b-e&&(f=new RegExp("\\.?0{1,"+(d-(b-e))+"}$"),h=h.replace(f,"")),h}function d(a,b,c){var d;return d=0===a._value&&null!==t.zeroFormat?t.zeroFormat:null===a._value&&null!==t.nullFormat?t.nullFormat:b.indexOf("$")>-1?e(a,b,c):b.indexOf("%")>-1?f(a,b,c):b.indexOf(":")>-1?i(a,b):b.indexOf("b")>-1||b.indexOf("ib")>-1?g(a,b,c):b.indexOf("o")>-1?h(a,b,c):j(a._value,b,c)}function e(a,b,c){var d,e,f=b.indexOf("$"),g=b.indexOf("("),h=b.indexOf("-"),i="";return b.indexOf(" $")>-1?(i=" ",b=b.replace(" $","")):b.indexOf("$ ")>-1?(i=" ",b=b.replace("$ ","")):b=b.replace("$",""),e=j(a._value,b,c,!1),f<=1?e.indexOf("(")>-1||e.indexOf("-")>-1?(e=e.split(""),d=1,(f<g||f<h)&&(d=0),e.splice(d,0,r[t.currentLanguage].currency.symbol+i),e=e.join("")):e=r[t.currentLanguage].currency.symbol+i+e:e.indexOf(")")>-1?(e=e.split(""),e.splice(-1,0,i+r[t.currentLanguage].currency.symbol),e=e.join("")):e=e+i+r[t.currentLanguage].currency.symbol,e}function f(a,b,c){var d,e="",f=100*a._value;return b.indexOf(" %")>-1?(e=" ",b=b.replace(" %","")):b=b.replace("%",""),d=j(f,b,c),d.indexOf(")")>-1?(d=d.split(""),d.splice(-1,0,e+"%"),d=d.join("")):d=d+e+"%",d}function g(a,b,c){var d,e,f,g,h=b.indexOf("ib")>-1?u.iec:u.bytes,i=a._value,k="";for(b.indexOf(" b")>-1||b.indexOf(" ib")>-1?(k=" ",b=b.replace(" ib","").replace(" b","")):b=b.replace("ib","").replace("b",""),e=0;e<=h.length;e++)if(f=Math.pow(1024,e),g=Math.pow(1024,e+1),null===i||0===i||i>=f&&i<g){k+=h[e],f>0&&(i/=f);break}return d=j(i,b,c),d+k}function h(a,b,c){var d,e="";return b.indexOf(" o")>-1?(e=" ",b=b.replace(" o","")):b=b.replace("o",""),e+=r[t.currentLanguage].ordinal(a._value),d=j(a._value,b,c),d+e}function i(a){var b=Math.floor(a._value/60/60),c=Math.floor((a._value-60*b*60)/60),d=Math.round(a._value-60*b*60-60*c);return b+":"+(c<10?"0"+c:c)+":"+(d<10?"0"+d:d)}function j(a,b,d){var e,f,g,h,i=!1,j=!1,k=!1,l="",m=!1,n=!1,o=!1,p=!1,q=!1,s="",u=!1;return null===a&&(a=0),e=Math.abs(a),b.indexOf("(")>-1?(i=!0,b=b.slice(1,-1)):b.indexOf("+")>-1&&(j=!0,b=b.replace(/\+/g,"")),b.indexOf("a")>-1&&(m=b.indexOf("aK")>=0,n=b.indexOf("aM")>=0,o=b.indexOf("aB")>=0,p=b.indexOf("aT")>=0,q=m||n||o||p,b.indexOf(" a")>-1&&(l=" "),b=b.replace(new RegExp(l+"a[KMBT]?"),""),e>=Math.pow(10,12)&&!q||p?(l+=r[t.currentLanguage].abbreviations.trillion,a/=Math.pow(10,12)):e<Math.pow(10,12)&&e>=Math.pow(10,9)&&!q||o?(l+=r[t.currentLanguage].abbreviations.billion,a/=Math.pow(10,9)):e<Math.pow(10,9)&&e>=Math.pow(10,6)&&!q||n?(l+=r[t.currentLanguage].abbreviations.million,a/=Math.pow(10,6)):(e<Math.pow(10,6)&&e>=Math.pow(10,3)&&!q||m)&&(l+=r[t.currentLanguage].abbreviations.thousand,a/=Math.pow(10,3))),b.indexOf("[.]")>-1&&(k=!0,b=b.replace("[.]",".")),f=a.toString().split(".")[0],g=b.split(".")[1],h=b.indexOf(","),g?(g.indexOf("[")>-1?(g=g.replace("]",""),g=g.split("["),s=c(a,g[0].length+g[1].length,d,g[1].length)):s=c(a,g.length,d),f=s.split(".")[0],s=s.indexOf(".")>-1?r[t.currentLanguage].delimiters.decimal+s.split(".")[1]:"",k&&0===Number(s.slice(1))&&(s="")):f=c(a,null,d),f.indexOf("-")>-1&&(f=f.slice(1),u=!0),h>-1&&(f=f.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+r[t.currentLanguage].delimiters.thousands)),0===b.indexOf(".")&&(f=""),(i&&u?"(":"")+(!i&&u?"-":"")+(!u&&j?"+":"")+f+s+(l?l:"")+(i&&u?")":"")}function k(a,b){var c,d,e,f,g,h,i=b,j=!1;if(b.indexOf(":")>-1)h=l(b);else if(b===t.zeroFormat||b===t.nullFormat)h=0;else{for("."!==r[t.currentLanguage].delimiters.decimal&&(b=b.replace(/\./g,"").replace(r[t.currentLanguage].delimiters.decimal,".")),c=new RegExp("[^a-zA-Z]"+r[t.currentLanguage].abbreviations.thousand+"(?:\\)|(\\"+r[t.currentLanguage].currency.symbol+")?(?:\\))?)?$"),d=new RegExp("[^a-zA-Z]"+r[t.currentLanguage].abbreviations.million+"(?:\\)|(\\"+r[t.currentLanguage].currency.symbol+")?(?:\\))?)?$"),e=new RegExp("[^a-zA-Z]"+r[t.currentLanguage].abbreviations.billion+"(?:\\)|(\\"+r[t.currentLanguage].currency.symbol+")?(?:\\))?)?$"),f=new RegExp("[^a-zA-Z]"+r[t.currentLanguage].abbreviations.trillion+"(?:\\)|(\\"+r[t.currentLanguage].currency.symbol+")?(?:\\))?)?$"),g=1;g<=u.bytes.length&&!(j=(b.indexOf(u.bytes[g])>-1||b.indexOf(u.iec[g])>-1)&&Math.pow(1024,g));g++);h=j?j:1,h*=i.match(c)?Math.pow(10,3):1,h*=i.match(d)?Math.pow(10,6):1,h*=i.match(e)?Math.pow(10,9):1,h*=i.match(f)?Math.pow(10,12):1,h*=b.indexOf("%")>-1?.01:1,h*=(b.split("-").length+Math.min(b.split("(").length-1,b.split(")").length-1))%2?1:-1,h*=Number(b.replace(/[^0-9\.]+/g,"")),h=j?Math.ceil(h):h}return a._value=h,a._value}function l(a){var b=a.split(":"),c=0;return 3===b.length?(c+=60*Number(b[0])*60,c+=60*Number(b[1]),c+=Number(b[2])):2===b.length&&(c+=60*Number(b[0]),c+=Number(b[1])),Number(c)}function m(a,b){r[a]=b}function n(a){var b=a.toString().split(".");return b.length<2?1:Math.pow(10,b[1].length)}function o(){var a=Array.prototype.slice.call(arguments);return a.reduce(function(a,b){var c=n(a),d=n(b);return c>d?c:d},-(1/0))}var p,q="1.5.6",r={},s={currentLanguage:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0"},t={currentLanguage:s.currentLanguage,zeroFormat:s.zeroFormat,nullFormat:s.nullFormat,defaultFormat:s.defaultFormat},u={bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],iec:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]};p=function(b){return b=p.isNumeral(b)?b.value():0===b||"undefined"==typeof b?0:null===b?null:Number(b)?Number(b):p.fn.unformat(b),new a(b)},p.version=q,p.isNumeral=function(b){return b instanceof a},p.language=function(a,b){if(!a)return t.currentLanguage;if(a=a.toLowerCase(),a&&!b){if(!r[a])throw new Error("Unknown language : "+a);t.currentLanguage=a}return!b&&r[a]||m(a,b),p},p.reset=function(){for(var a in s)t[a]=s[a]},p.languageData=function(a){if(!a)return r[t.currentLanguage];if(!r[a])throw new Error("Unknown language : "+a);return r[a]},p.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:"$"}}),p.zeroFormat=function(a){t.zeroFormat="string"==typeof a?a:null},p.nullFormat=function(a){t.nullFormat="string"==typeof a?a:null},p.defaultFormat=function(a){t.defaultFormat="string"==typeof a?a:"0.0"},p.validate=function(a,b){var c,d,e,f,g,h,i,j;if("string"!=typeof a&&(a+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",a)),a=a.trim(),a.match(/^\d+$/))return!0;if(""===a)return!1;try{i=p.languageData(b)}catch(a){i=p.languageData(p.language())}return e=i.currency.symbol,g=i.abbreviations,c=i.delimiters.decimal,d="."===i.delimiters.thousands?"\\.":i.delimiters.thousands,j=a.match(/^[^\d]+/),(null===j||(a=a.substr(1),j[0]===e))&&(j=a.match(/[^\d]+$/),(null===j||(a=a.slice(0,-1),j[0]===g.thousand||j[0]===g.million||j[0]===g.billion||j[0]===g.trillion))&&(h=new RegExp(d+"{2}"),!a.match(/[^\d.,]/g)&&(f=a.split(c),!(f.length>2)&&(f.length<2?!!f[0].match(/^\d+.*\d$/)&&!f[0].match(h):1===f[0].length?!!f[0].match(/^\d+$/)&&!f[0].match(h)&&!!f[1].match(/^\d+$/):!!f[0].match(/^\d+.*\d$/)&&!f[0].match(h)&&!!f[1].match(/^\d+$/)))))},Array.prototype.reduce||(Array.prototype.reduce=function(a){"use strict";if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof a)throw new TypeError(a+" is not a function");var b,c=Object(this),d=c.length>>>0,e=0;if(2===arguments.length)b=arguments[1];else{for(;e<d&&!(e in c);)e++;if(e>=d)throw new TypeError("Reduce of empty array with no initial value");b=c[e++]}for(;e<d;e++)e in c&&(b=a(b,c[e],e,c));return b}),p.fn=a.prototype={clone:function(){return p(this)},format:function(a,b){return d(this,a?a:t.defaultFormat,void 0!==b?b:Math.round)},unformat:function(a){return"[object Number]"===Object.prototype.toString.call(a)?a:k(this,a?a:t.defaultFormat)},value:function(){return this._value},valueOf:function(){return this._value},set:function(a){return this._value=Number(a),this},add:function(a){function b(a,b,d,e){return a+c*b}var c=o.call(null,this._value,a);return this._value=[this._value,a].reduce(b,0)/c,this},subtract:function(a){function b(a,b,d,e){return a-c*b}var c=o.call(null,this._value,a);return this._value=[a].reduce(b,this._value*c)/c,this},multiply:function(a){function b(a,b,c,d){var e=o(a,b);return a*e*(b*e)/(e*e)}return this._value=[this._value,a].reduce(b,1),this},divide:function(a){function b(a,b,c,d){var e=o(a,b);return a*e/(b*e)}return this._value=[this._value,a].reduce(b),this},difference:function(a){return Math.abs(p(this._value).subtract(a).value())}},"undefined"!=typeof b&&b.exports&&(b.exports=p),"undefined"==typeof ender&&(this.numeral=p),"function"==typeof define&&define.amd&&define([],function(){return p})}).call(this)},{}]},{},[1]);